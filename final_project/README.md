# 🤖 Финальный проект — Telegram-бот для распознавания и приоритезации голосовых сообщений в саппорт
## 📘 Описание проекта

Проект реализует **Telegram-бота**, который принимает **голосовые сообщения** на английском языке (подразумевается, что вы обращаетсь в тех. поддержку),  
распознаёт их с помощью модели **Whisper**, и классифицирует по уровню **приоритета**  
(*High*, *Medium*, *Low*).

Система объединяет три основные части:
- 🎧 **Обработка аудио** — шумоподавление, фильтрация и подготовка звуковой дорожки.  
- 🧠 **Распознавание речи** — с использованием моделей Whisper / WhisperX.  
- 💬 **Классификация текста** — SVM-модель, обученная на текстах служебных обращений.  

Результатом работы является готовый Telegram-бот, который принимает голосовые обращения,  
распознаёт текст и автоматически определяет приоритет запроса.

---
### 🧩 Логика работы

1. Пользователь отправляет **voice-сообщение** в чат с ботом.  
2. Бот получает аудио, конвертирует `.ogg → .wav`.  
3. Проводится шумоподавление и фильтрация.  
4. Whisper преобразует речь в текст.  
5. Текст подаётся в SVM-классификатор.  
6. Результат отправляется обратно пользователю.

---

## 🧠 Архитектура проекта

    final_project/
    │
    ├── audio_pipeline/              # 🎧 Предобработка и распознавание аудио 
    │   ├── audio_pipeline.py        # шумоподавление + Whisper-транскрипция
    │
    ├── text_classifier/             # 🧠 Классификатор текста
    │   ├── inference_model.py       # загрузка обученной модели SVM
    │   └── svm_best_model.pkl       # сохранённая модель
    │
    ├── telegram_bot/                # 🤖 Telegram-бот
    │   ├── telegram_client.py       # основная логика работы (polling)
    │   ├── bot_server.py            # серверная версия (Flask-webhook)
    │   └── config.py                # токен бота и настройки окружения (.env)
    │
    ├── data/                        # 📂 Временные файлы
    │   ├── sample.wav
    │   └── recognized_text.txt
    │
    ├── requirements.txt             # 📦 Зависимости проекта
    └── README.md                    # 📘 Документация
---

## Запуск бота на локально


1️⃣ Перейти в директорию проекта

    cd ~/NLP/final_project

2️⃣ Активировать виртуальное окружение

    source .venv/bin/activate

3️⃣ Создать .env с токеном бота (если его ещё нет)

    cat > .env <<EOF
    TELEGRAM_TOKEN=your_telegram_token_here
    EOF

4️⃣ Установить зависимости

    pip install -r requirements.txt

5️⃣ Создать нужные папки

    mkdir -p data logs

6️⃣ Запустить Telegram-бота через пакет

    python3 -m telegram_bot.telegram_client

Если всё ок, увидишь сообщение:

    🤖 Bot is running with noise reduction + Whisper + SVM classification...

Остановить можно сочетанием Ctrl + C.

---

## 🧾 Заключение

🔹 Разработанное решение демонстрирует полный цикл обработки естественного языка — от аудио до текстовой классификации.  
🔹 В ходе проекта была выполнена интеграция компонентов на Python с использованием библиотек `whisper`, `librosa`, `telebot` и `scikit-learn`.  
🔹 Архитектура построена модульно, что позволяет масштабировать проект — например, добавить поддержку нескольких языков или подключить нейросетевые модели для классификации.

---

## 🚀 Возможности для дальнейшего развития

- Добавить базу данных для хранения обращений пользователей;
- Подключить BERT-классификатор;
- Реализовать выбор пользователюБ как подавать сообщение - текстом или аудио.